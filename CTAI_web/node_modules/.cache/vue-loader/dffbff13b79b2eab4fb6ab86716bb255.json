{"remainingRequest":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\src\\components\\Content.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\src\\components\\Content.vue","mtime":1615814880151},{"path":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project\\Master-1\\code\\System\\CTAI\\CTAI_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\n\nexport default {\n    name: \"Content\",\n    data() {\n        return {\n            // server_url:'http://58.87.66.50:5003',\n            server_url:'http://127.0.0.1:5003',\n            perimeter_picture_data: 0,\n            area_picture_data: 0,\n            activeName: \"first\",\n            active: 0,\n            centerDialogVisible: true,\n            url_1: \"\",\n            url_2: \"\",\n            textarea: \"\",\n            srcList: [],\n            srcList1: [],\n            feature_list: [],\n            feature_list_1: [],\n            feat_list: [],\n            url: \"\",\n            visible: false,\n            activeName: \"second\",\n            wait_return: \"等待上传\",\n            wait_upload: \"等待上传\",\n            loading: false,\n            table: false,\n            isNav: false,\n            showbutton: true,\n            percentage: 0,\n            fullscreenLoading: false,\n            opacitys: {\n                opacity: 0\n            },\n            dialogTableVisible: false,\n            patient: {\n                ID: \"2013391000\",\n                姓名: \"Tony\",\n                性别: \"男\",\n                年龄: \"45\",\n                电话: \"1326737984\",\n                部位: \"直肠\"\n            }\n        };\n    },\n    created: function () {\n        document.title = '肿瘤辅助诊断系统';\n    },\n    methods: {\n        true_upload() {\n            this.$refs.upload.click();\n        },\n        true_upload2() {\n            this.$refs.upload2.click();\n        },\n        handleClose(done) {\n            this.$confirm(\"确认关闭？\")\n                .then(_ => {\n                    done();\n                })\n                .catch(_ => {\n                });\n        },\n        next() {\n            this.active++;\n        },\n        // 获得目标文件\n        getObjectURL(file) {\n            var url = null;\n            if (window.createObjcectURL != undefined) {\n                url = window.createOjcectURL(file);\n            } else if (window.URL != undefined) {\n                url = window.URL.createObjectURL(file);\n            } else if (window.webkitURL != undefined) {\n                url = window.webkitURL.createObjectURL(file);\n            }\n            return url;\n        },\n        // 点击切换\n        handleClick(tab, event) {\n            if (tab.name == \"second\") {\n                this.drawChart();\n                var myChart_area = this.$echarts.init(document.getElementById('area'));\n                // myChart_area.clear();\n                myChart_area.setOption({\n                    xAxis: {\n                        type: \"category\",\n                        data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\n                    },\n                    yAxis: {\n                        type: \"value\",\n                        name: \"面积\"\n                    },\n                    areaStyle: {},\n                    legend: {\n                        data: [\"\"]\n                    },\n                    series: [\n                        {\n                            // 根据名字对应到相应的系列\n                            name: \"面积\",\n                            type: \"line\",\n                            data: [\n                                1300,\n                                1290,\n                                1272,\n                                1123.5,\n                                1123,\n                                1092,\n                                1086,\n                                this.area_picture_data\n                            ]\n                        }\n                    ]\n                });\n            } else if (tab.name == \"third\") {\n                this.drawChart();\n                var myChart_perimeter = this.$echarts.init(document.getElementById('perimeter'));\n                myChart_perimeter.setOption({\n                    xAxis: {\n                        type: \"category\",\n                        data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\n                    },\n                    yAxis: {\n                        type: \"value\",\n                        name: \"周长\"\n                    },\n                    areaStyle: {},\n                    series: [\n                        {\n                            // 根据名字对应到相应的系列\n                            name: \"周长\",\n                            type: \"line\",\n                            data: [\n                                250,\n                                243,\n                                227,\n                                201,\n                                197,\n                                170,\n                                159,\n                                this.perimeter_picture_data\n                            ]\n                        }\n                    ]\n                });\n            }\n        },\n        // 上传dcm文件\n        update(e) {\n            this.percentage = 0;\n            this.dialogTableVisible = true;\n            this.url_1 = \"\";\n            this.url_2 = \"\";\n            this.srcList = [];\n            this.srcList1 = [];\n            this.wait_return = \"\";\n            this.wait_upload = \"\";\n            this.feature_list = [];\n            let myChart_area = this.$echarts.init(document.getElementById(\"area\"));\n            myChart_area.setOption({\n                series: [\n                    {\n                        data: [\"\"]\n                    }\n                ]\n            });\n            this.feat_list = [];\n            this.fullscreenLoading = true;\n            this.loading = true;\n            this.showbutton = false;\n            let file = e.target.files[0];\n            this.url_1 = this.$options.methods.getObjectURL(file);\n            let param = new FormData(); //创建form对象\n            param.append(\"file\", file, file.name); //通过append向form对象添加数据\n            // console.log(param.get(\"file\")); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\n            //todo aaaa\n            var timer = setInterval(() => {\n                this.myFunc();\n            }, 30);\n            let config = {\n                headers: {\"Content-Type\": \"multipart/form-data\"}\n            }; //添加请求头\n            axios\n                .post(this.server_url+\"/upload\", param, config)\n                .then(response => {\n                    this.percentage = 100;\n                    clearInterval(timer);\n                    this.url_1 = response.data.image_url;\n                    this.srcList.push(this.url_1);\n                    this.url_2 = response.data.draw_url;\n                    this.srcList1.push(this.url_2);\n                    this.fullscreenLoading = false;\n                    this.loading = false;\n\n                    this.feat_list = Object.keys(response.data.image_info);\n\n                    for (var i = 0; i < this.feat_list.length; i++) {\n                        response.data.image_info[this.feat_list[i]][2] = this.feat_list[i];\n                        this.feature_list.push(response.data.image_info[this.feat_list[i]]);\n                    }\n\n                    this.feature_list.push(response.data.image_info);\n                    this.feature_list_1 = this.feature_list[0];\n                    JSON.stringify(response.data.image_info, (key, value) => {\n                        console.log(key);\n                        console.log(value);\n                    });\n                    this.dialogTableVisible = false;\n                    this.percentage = 0;\n                    this.notice1();\n                    var areaCompare = document.getElementById(\"areaCompare\");\n                    areaCompare.style.display = \"none\";\n                    var areaCompare = document.getElementById(\"perimeterCompare\");\n                    areaCompare.style.display = \"none\";\n                    let myChart_area = this.$echarts.init(\n                        document.getElementById(\"area\")\n                    );\n                    let myChart_perimeter = this.$echarts.init(\n                        document.getElementById(\"perimeter\")\n                    );\n                    this.perimeter_picture_data = parseInt(response.data.image_info[\"perimeter\"][1]);\n                    this.area_picture_data = parseInt(response.data.image_info[\"area\"][1]);\n                    myChart_area.setOption({\n                        xAxis: {\n                            type: \"category\",\n                            data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\n                        },\n                        yAxis: {\n                            type: \"value\",\n                            name: \"面积\"\n                        },\n                        areaStyle: {},\n                        legend: {\n                            data: [\"\"]\n                        },\n                        series: [\n                            {\n                                // 根据名字对应到相应的系列\n                                name: \"面积\",\n                                type: \"line\",\n                                data: [\n                                    1300,\n                                    1290,\n                                    1272,\n                                    1123.5,\n                                    1123,\n                                    1092,\n                                    1086,\n                                    response.data.image_info[\"area\"][1]\n                                ]\n                            }\n                        ]\n                    });\n\n                    myChart_perimeter.setOption({\n                        xAxis: {\n                            type: \"category\",\n                            data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\n                        },\n                        yAxis: {\n                            type: \"value\",\n                            name: \"周长\"\n                        },\n                        areaStyle: {},\n                        series: [\n                            {\n                                // 根据名字对应到相应的系列\n                                name: \"周长\",\n                                type: \"line\",\n                                data: [\n                                    250,\n                                    243,\n                                    227,\n                                    201,\n                                    197,\n                                    170,\n                                    159,\n                                    response.data.image_info[\"perimeter\"]\n                                ]\n                            }\n                        ]\n                    });\n                });\n        },\n        // 下载 点击按钮 从远程接口获取文件\n        downTemplate() {\n            axios({\n                method: \"get\",\n                url:\n                    \"https://cso1-1254043908.cos.ap-beijing.myqcloud.com/ct/testfile.7z\",\n                responseType: \"blob\"\n            }).then(res => {\n                this.downloads(res.data, res.headers.filename);\n\n                if (res.status === 200) {\n                    this.$message({\n                        message: \"下载成功\",\n                        type: \"success\"\n                    });\n                    if (this.active == 0) {\n                        this.next();\n                    }\n                } else {\n                    this.$message({\n                        showClose: true,\n                        message: \"下载失败，请重试\",\n                        type: \"error\"\n                    });\n                }\n            });\n        },\n        myFunc() {\n            if (this.percentage + 33 < 99) {\n                this.percentage = this.percentage + 33;\n                console.log(this.percentage);\n            } else {\n                this.percentage = 99;\n            }\n        },\n        drawChart() {\n            // 基于准备好的dom，初始化echarts实例\n            let myChart_area = this.$echarts.init(document.getElementById(\"area\"));\n            let myChart_perimeter = this.$echarts.init(\n                document.getElementById(\"perimeter\")\n            );\n            // 指定图表的配置项和数据\n            myChart_area.setOption({\n                title: {\n                    text: \"肿瘤面积变化\",\n                    subtext: \"Tumor Area Change\",\n                    left: \"center\"\n                },\n                legend: {\n                    data: [\"\"]\n                },\n                tooltip: {},\n\n                grid: {\n                    //显示数据的图表位于当前canvas的坐标轴\n                    x: 50,\n                    y: 55,\n                    x2: 50,\n                    y2: 60,\n                    borderWidth: 1\n                },\n\n                toolbox: {\n                    show: true,\n                    feature: {\n                        dataZoom: {\n                            yAxisIndex: \"none\"\n                        },\n                        dataView: {readOnly: false},\n                        magicType: {type: [\"line\", \"bar\"]},\n                        restore: {},\n                        saveAsImage: {}\n                    }\n                },\n                xAxis: {\n                    type: \"category\",\n                    boundaryGap: false,\n                    data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"],\n                    name: \"治疗时间（周）\",\n                    nameLocation: \"middle\",\n                    nameTextStyle: {\n                        padding: 14,\n                        fontSize: 14\n                    }\n                },\n                yAxis: {\n                    type: \"value\",\n                    name: \"肿瘤面积\",\n                    nameTextStyle: {\n                        padding: 4,\n                        fontSize: 14\n                    },\n                    max: 1800\n                },\n                series: [\n                    {\n                        name: \"面积\",\n                        type: \"bar\",\n                        data: []\n                    }\n                ]\n            });\n            myChart_perimeter.setOption({\n                title: {\n                    text: \"肿瘤周长变化\",\n                    subtext: \"Tumor Circumference Change\",\n                    left: \"center\"\n                },\n                legend: {\n                    data: [\"\"]\n                },\n                tooltip: {},\n\n                grid: {\n                    //显示数据的图表位于当前canvas的坐标轴\n                    x: 50,\n                    y: 55,\n                    x2: 50,\n                    y2: 60,\n                    borderWidth: 1\n                },\n\n                toolbox: {\n                    show: true,\n                    feature: {\n                        dataZoom: {\n                            yAxisIndex: \"none\"\n                        },\n                        dataView: {readOnly: false},\n                        magicType: {type: [\"line\", \"bar\"]},\n                        restore: {},\n                        saveAsImage: {}\n                    }\n                },\n                xAxis: {\n                    type: \"category\",\n                    boundaryGap: false,\n                    data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"],\n                    name: \"治疗时间（周）\",\n                    nameLocation: \"middle\",\n                    nameTextStyle: {\n                        padding: 14,\n                        fontSize: 14\n                    }\n                },\n                yAxis: {\n                    type: \"value\",\n                    name: \"肿瘤周长\",\n                    nameTextStyle: {\n                        padding: 4,\n                        fontSize: 14\n                    },\n                    max: 400\n                },\n                series: [\n                    {\n                        name: \"周长\",\n                        type: \"bar\",\n                        data: []\n                    }\n                ]\n            });\n        },\n        // 创建模板下载链接\n        downloads(data, name) {\n            if (!data) {\n                return;\n            }\n            let url = window.URL.createObjectURL(new Blob([data]));\n            let link = document.createElement(\"a\");\n            link.style.display = \"none\";\n            link.href = url;\n            link.setAttribute(\"download\", `肿瘤CT图文件.zip`);\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            window.URL.revokeObjectURL(url);\n        },\n        welcome() {\n            axios({\n                method: \"get\",\n                url:\n                    \"https://cso1-1254043908.cos.ap-beijing.myqcloud.com/ct/testfile.7z\",\n                responseType: \"blob\"\n            }).then(res => {\n                this.downloads(res.data, res.headers.filename);\n                if (res.status === 200) {\n                    this.$message({\n                        message: \"下载成功\",\n                        type: \"success\"\n                    });\n                    this.centerDialogVisible = false;\n                    this.next();\n                } else {\n                    this.$message({\n                        showClose: true,\n                        message: \"下载失败，请重试\",\n                        type: \"error\"\n                    });\n                }\n            });\n        },\n        notice1() {\n            this.$notify({\n                title: \"预测成功\",\n                message:\n                    \"点击图片可以查看大图，图片下方会显示肿瘤区域的一些特征值来供医生参考，辅助诊断\",\n                duration: 0,\n                type: \"success\"\n            });\n        }\n    },\n    mounted() {\n        this.drawChart();\n    }\n};\n",{"version":3,"sources":["Content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6TA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Content.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"Content\">\r\n        <el-dialog\r\n            id=\"hello\"\r\n            title=\"肿瘤辅助诊断系统使用须知\"\r\n            :visible.sync=\"centerDialogVisible\"\r\n            width=\"65%\"\r\n            :before-close=\"handleClose\"\r\n        >\r\n            <el-steps :active=\"5\" finish-status=\"process \">\r\n                <el-step title=\"步骤1\" style=\"width:280px;padding-left: 50px\">\r\n                    <template slot=\"description\">\r\n                        <p style=\"font-size: 16px\">下载测试CT文件文件</p>\r\n                        <br>\r\n                        <br>\r\n                    </template>\r\n                </el-step>\r\n                <el-step title=\"步骤2\" style=\"width:260px;margin-left:-5px;\">\r\n                    <template slot=\"description\">\r\n                        <p>上传CT图像至服务器</p>\r\n                        <p>使用训练的模型预测肿瘤区域</p>\r\n                        <p>并返回肿瘤区域特征</p>\r\n                    </template>\r\n                </el-step>\r\n                <el-step title=\"步骤3\" style=\"width:260px;margin-left:-5px;\">\r\n                    <template slot=\"description\">\r\n                        <div>\r\n                            <p>根据预测的肿瘤区域和特征</p>\r\n                            <p>进行辅助诊断</p>\r\n                            <br>\r\n                        </div>\r\n                    </template>\r\n                </el-step>\r\n            </el-steps>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"welcome\">下载测试CT图像</el-button>\r\n      </span>\r\n        </el-dialog>\r\n        <el-dialog\r\n            title=\"AI预测中\"\r\n            :visible.sync=\"dialogTableVisible\"\r\n            :show-close=\"false\"\r\n            :close-on-press-escape=\"false\"\r\n            :append-to-body=\"true\"\r\n            :close-on-click-modal=\"false\"\r\n            :center=\"true\"\r\n        >\r\n            <el-progress :percentage=\"percentage\"></el-progress>\r\n            <span slot=\"footer\" class=\"dialog-footer\">非GPU学生服务器性能有限，请耐心等待约一分钟</span>\r\n        </el-dialog>\r\n\r\n        <div id=\"aside\">\r\n            <!-- 查看病人信息 -->\r\n            <el-card class=\"box-card\" style=\"width:250px;height:350px\">\r\n                <div slot=\"header\" class=\"clearfix\">\r\n                    <span>病人信息</span>\r\n                </div>\r\n                <div v-for=\"(value,name) in patient\" :key=\"name\" class=\"text item\">\r\n                    <h3 style=\"font-weight:normal;\">{{name}}:{{value}}</h3>\r\n                </div>\r\n            </el-card>\r\n\r\n            <!-- 步骤条：下载 上传 -->\r\n            <el-card\r\n                class=\"box-card\"\r\n                body-style=\"padding: 15px 5px 15px 10px\"\r\n                style=\"width:250px;height:500px;margin-top:50px;\"\r\n            >\r\n                <div slot=\"header\" class=\"clearfix\" style=\"text-align:center;\">\r\n                    <span class=\"steps\" style=\"letter-spacing: 7px;\">诊断测试步骤</span>\r\n                </div>\r\n                <div style=\"height: 600px;\" class=\"step_1\">\r\n                    <el-steps direction=\"vertical\" :active=\"active\" finish-status=\"success\">\r\n                        <el-step style=\"height: 120px;\" title=\"步骤 1\">\r\n                            <template slot=\"description\" style=\"font-size: 10px!important;\">\r\n                                下载测试CT文件\r\n                                <!-- 下载文件 -->\r\n                                <el-button\r\n                                    type=\"primary\"\r\n                                    icon=\"el-icon-download\"\r\n                                    @click=\"downTemplate\"\r\n                                    class=\"download_bt\"\r\n                                >下载\r\n                                </el-button>\r\n                            </template>\r\n                        </el-step>\r\n                        <el-step style=\"height: 150px;\" title=\"步骤 2\">\r\n                            <template slot=\"description\">\r\n                                <!-- 上传文件 -->\r\n                                上传CT图像至服务器，使用训练的模型预测肿瘤区域并返回肿瘤区域特征\r\n                                <el-button type=\"primary\" icon=\"el-icon-upload\" class=\"download_bt\">上传</el-button>\r\n                                <input class=\"file\" name=\"file\" type=\"file\" @change=\"update\">\r\n                            </template>\r\n                        </el-step>\r\n\r\n                        <!-- 获得图像 -->\r\n                        <el-step title=\"获得图像及特征\" style=\"height: 200px;\">\r\n                            <template slot=\"description\"></template>\r\n                        </el-step>\r\n                    </el-steps>\r\n                </div>\r\n            </el-card>\r\n        </div>\r\n        <!-- 上传返回信息部分：原CT图部分  标出肿瘤的CT图像 图像特征-->\r\n        <div id=\"CT\">\r\n            <!-- CT图像 -->\r\n            <div id=\"CT_image\">\r\n                <!-- 原CT图 -->\r\n                <el-card\r\n                    id=\"CT_image_1\"\r\n                    class=\"box-card\"\r\n                    style=\"border-radius: 8px;width:800px;height:360px;margin-bottom:-30px;\"\r\n                >\r\n                    <div class=\"demo-image__preview1\">\r\n                        <div\r\n                            v-loading=\"loading\"\r\n                            element-loading-text=\"上传图片中\"\r\n                            element-loading-spinner=\"el-icon-loading\"\r\n                        >\r\n                            <el-image\r\n                                :src=\"url_1\"\r\n                                class=\"image_1\"\r\n                                :preview-src-list=\"srcList\"\r\n                                style=\"border-radius: 3px 3px 0 0\"\r\n                            >\r\n                                <div slot=\"error\">\r\n                                    <div slot=\"placeholder\" class=\"error\">\r\n                                        <el-button\r\n                                            v-show=\"showbutton\"\r\n                                            type=\"primary\"\r\n                                            icon=\"el-icon-upload\"\r\n                                            class=\"download_bt\"\r\n                                            v-on:click=\"true_upload\"\r\n                                        >\r\n                                            上传dcm文件\r\n                                            <input\r\n                                                ref=\"upload\"\r\n                                                style=\"display: none\"\r\n                                                name=\"file\"\r\n                                                type=\"file\"\r\n                                                @change=\"update\"\r\n                                            >\r\n                                        </el-button>\r\n                                    </div>\r\n                                </div>\r\n                            </el-image>\r\n                        </div>\r\n                        <!-- 原CT图文字 -->\r\n                        <div class=\"img_info_1\" style=\"border-radius:0 0 5px 5px;\">\r\n                            <span style=\"color:white;letter-spacing:6px;\">原CT图像</span>\r\n                        </div>\r\n                    </div>\r\n                    <!-- 标出肿瘤的CT图像 -->\r\n                    <div class=\"demo-image__preview2\">\r\n                        <div\r\n                            v-loading=\"loading\"\r\n                            element-loading-text=\"处理中,请耐心等待\"\r\n                            element-loading-spinner=\"el-icon-loading\"\r\n                        >\r\n                            <el-image\r\n                                :src=\"url_2\"\r\n                                class=\"image_1\"\r\n                                :preview-src-list=\"srcList1\"\r\n                                style=\"border-radius: 3px 3px 0 0;\"\r\n                            >\r\n                                <div slot=\"error\">\r\n                                    <div slot=\"placeholder\" class=\"error\">{{wait_return}}</div>\r\n                                </div>\r\n                            </el-image>\r\n                        </div>\r\n                        <!-- 标出肿瘤的CT图像文字 -->\r\n                        <div class=\"img_info_1\" style=\"border-radius: 0 0 5px 5px;\">\r\n                            <span style=\"color:white;letter-spacing:4px;\">标出肿瘤的CT图像</span>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </div>\r\n\r\n\r\n            <!-- 分割线 -->\r\n\r\n            <!-- 图像特征部分 -->\r\n            <div id=\"info_patient\">\r\n                <!-- 卡片放置表格 -->\r\n                <el-card style=\"border-radius: 8px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>肿瘤区域特征值</span>\r\n                        <el-button\r\n                            style=\"margin-left: 35px\"\r\n                            v-show=\"!showbutton\"\r\n                            type=\"primary\"\r\n                            icon=\"el-icon-upload\"\r\n                            class=\"download_bt\"\r\n                            v-on:click=\"true_upload2\"\r\n                        >\r\n                            重新选择图像\r\n                            <input\r\n                                ref=\"upload2\"\r\n                                style=\"display: none\"\r\n                                name=\"file\"\r\n                                type=\"file\"\r\n                                @change=\"update\"\r\n                            >\r\n                        </el-button>\r\n                    </div>\r\n\r\n\r\n                    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n                        <el-tab-pane label=\"肿瘤区域特征值\" name=\"first\">\r\n                            <!-- 表格存放特征值 -->\r\n                            <el-table\r\n                                :data=\"feature_list\"\r\n                                height=\"390\"\r\n                                border\r\n                                style=\"width:750px;text-align:center;\"\r\n                                v-loading=\"loading\"\r\n                                element-loading-text=\"数据正在处理中，请耐心等待\"\r\n                                element-loading-spinner=\"el-icon-loading\"\r\n                                lazy\r\n                            >\r\n                                <el-table-column label=\"Feature\" width=\"250px\">\r\n                                    <template slot-scope=\"scope\">\r\n                                        <span>{{scope.row[2]}}</span>\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <!-- 特征名 -->\r\n                                <el-table-column label=\"特征名\" width=\"250px\">\r\n                                    <template slot-scope=\"scope\">\r\n                                        <span>{{scope.row[0]}}</span>\r\n                                    </template>\r\n                                </el-table-column>\r\n\r\n                                <!-- 特征值 -->\r\n                                <el-table-column label=\"特征值\" width=\"250px\">\r\n                                    <template slot-scope=\"scope\">\r\n                                        <span>{{scope.row[1]}}</span>\r\n                                    </template>\r\n                                </el-table-column>\r\n                            </el-table>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"面积对比\" name=\"second\" style=\"width:750px;height:390px;\">\r\n                            <div id=\"areaCompare\">\r\n                                <el-table\r\n\r\n                                    :data=\"feature_list\"\r\n                                    height=\"390\"\r\n                                    border\r\n                                    style=\"width:750px;text-align:center;\"\r\n                                    v-loading=\"loading\"\r\n                                    element-loading-text=\"数据正在处理中，请耐心等待\"\r\n                                    element-loading-spinner=\"el-icon-loading\"\r\n                                >\r\n                                    <el-table-column label=\"Feature\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[2]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n                                    <!-- 特征名 -->\r\n                                    <el-table-column label=\"特征名\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[0]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n\r\n                                    <!-- 特征值 -->\r\n                                    <el-table-column label=\"特征值\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[1]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n                                </el-table>\r\n                            </div>\r\n                            <div id=\"area\" style=\"width: 750px;height:400px;margin-bottom:20px;\"></div>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"周长对比\" name=\"third\" style=\"width:750px;height:390px;\">\r\n                            <div id=\"perimeterCompare\">\r\n                                <el-table\r\n\r\n                                    :data=\"feature_list\"\r\n                                    height=\"390\"\r\n                                    border\r\n                                    style=\"width:750px;text-align:center;\"\r\n                                    v-loading=\"loading\"\r\n                                    element-loading-text=\"数据正在处理中，请耐心等待\"\r\n                                    element-loading-spinner=\"el-icon-loading\"\r\n                                >\r\n                                    <el-table-column label=\"Feature\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[2]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n                                    <!-- 特征名 -->\r\n                                    <el-table-column label=\"特征名\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[0]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n\r\n                                    <!-- 特征值 -->\r\n                                    <el-table-column label=\"特征值\" width=\"250px\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span>{{scope.row[1]}}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n                                </el-table>\r\n                            </div>\r\n\r\n                            <div id=\"perimeter\" style=\"width: 750px;height:400px;margin-bottom:20px;\"></div>\r\n                        </el-tab-pane>\r\n                    </el-tabs>\r\n                </el-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n\r\n    export default {\r\n        name: \"Content\",\r\n        data() {\r\n            return {\r\n                // server_url:'http://58.87.66.50:5003',\r\n                server_url:'http://127.0.0.1:5003',\r\n                perimeter_picture_data: 0,\r\n                area_picture_data: 0,\r\n                activeName: \"first\",\r\n                active: 0,\r\n                centerDialogVisible: true,\r\n                url_1: \"\",\r\n                url_2: \"\",\r\n                textarea: \"\",\r\n                srcList: [],\r\n                srcList1: [],\r\n                feature_list: [],\r\n                feature_list_1: [],\r\n                feat_list: [],\r\n                url: \"\",\r\n                visible: false,\r\n                activeName: \"second\",\r\n                wait_return: \"等待上传\",\r\n                wait_upload: \"等待上传\",\r\n                loading: false,\r\n                table: false,\r\n                isNav: false,\r\n                showbutton: true,\r\n                percentage: 0,\r\n                fullscreenLoading: false,\r\n                opacitys: {\r\n                    opacity: 0\r\n                },\r\n                dialogTableVisible: false,\r\n                patient: {\r\n                    ID: \"2013391000\",\r\n                    姓名: \"Tony\",\r\n                    性别: \"男\",\r\n                    年龄: \"45\",\r\n                    电话: \"1326737984\",\r\n                    部位: \"直肠\"\r\n                }\r\n            };\r\n        },\r\n        created: function () {\r\n            document.title = '肿瘤辅助诊断系统';\r\n        },\r\n        methods: {\r\n            true_upload() {\r\n                this.$refs.upload.click();\r\n            },\r\n            true_upload2() {\r\n                this.$refs.upload2.click();\r\n            },\r\n            handleClose(done) {\r\n                this.$confirm(\"确认关闭？\")\r\n                    .then(_ => {\r\n                        done();\r\n                    })\r\n                    .catch(_ => {\r\n                    });\r\n            },\r\n            next() {\r\n                this.active++;\r\n            },\r\n            // 获得目标文件\r\n            getObjectURL(file) {\r\n                var url = null;\r\n                if (window.createObjcectURL != undefined) {\r\n                    url = window.createOjcectURL(file);\r\n                } else if (window.URL != undefined) {\r\n                    url = window.URL.createObjectURL(file);\r\n                } else if (window.webkitURL != undefined) {\r\n                    url = window.webkitURL.createObjectURL(file);\r\n                }\r\n                return url;\r\n            },\r\n            // 点击切换\r\n            handleClick(tab, event) {\r\n                if (tab.name == \"second\") {\r\n                    this.drawChart();\r\n                    var myChart_area = this.$echarts.init(document.getElementById('area'));\r\n                    // myChart_area.clear();\r\n                    myChart_area.setOption({\r\n                        xAxis: {\r\n                            type: \"category\",\r\n                            data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\r\n                        },\r\n                        yAxis: {\r\n                            type: \"value\",\r\n                            name: \"面积\"\r\n                        },\r\n                        areaStyle: {},\r\n                        legend: {\r\n                            data: [\"\"]\r\n                        },\r\n                        series: [\r\n                            {\r\n                                // 根据名字对应到相应的系列\r\n                                name: \"面积\",\r\n                                type: \"line\",\r\n                                data: [\r\n                                    1300,\r\n                                    1290,\r\n                                    1272,\r\n                                    1123.5,\r\n                                    1123,\r\n                                    1092,\r\n                                    1086,\r\n                                    this.area_picture_data\r\n                                ]\r\n                            }\r\n                        ]\r\n                    });\r\n                } else if (tab.name == \"third\") {\r\n                    this.drawChart();\r\n                    var myChart_perimeter = this.$echarts.init(document.getElementById('perimeter'));\r\n                    myChart_perimeter.setOption({\r\n                        xAxis: {\r\n                            type: \"category\",\r\n                            data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\r\n                        },\r\n                        yAxis: {\r\n                            type: \"value\",\r\n                            name: \"周长\"\r\n                        },\r\n                        areaStyle: {},\r\n                        series: [\r\n                            {\r\n                                // 根据名字对应到相应的系列\r\n                                name: \"周长\",\r\n                                type: \"line\",\r\n                                data: [\r\n                                    250,\r\n                                    243,\r\n                                    227,\r\n                                    201,\r\n                                    197,\r\n                                    170,\r\n                                    159,\r\n                                    this.perimeter_picture_data\r\n                                ]\r\n                            }\r\n                        ]\r\n                    });\r\n                }\r\n            },\r\n            // 上传dcm文件\r\n            update(e) {\r\n                this.percentage = 0;\r\n                this.dialogTableVisible = true;\r\n                this.url_1 = \"\";\r\n                this.url_2 = \"\";\r\n                this.srcList = [];\r\n                this.srcList1 = [];\r\n                this.wait_return = \"\";\r\n                this.wait_upload = \"\";\r\n                this.feature_list = [];\r\n                let myChart_area = this.$echarts.init(document.getElementById(\"area\"));\r\n                myChart_area.setOption({\r\n                    series: [\r\n                        {\r\n                            data: [\"\"]\r\n                        }\r\n                    ]\r\n                });\r\n                this.feat_list = [];\r\n                this.fullscreenLoading = true;\r\n                this.loading = true;\r\n                this.showbutton = false;\r\n                let file = e.target.files[0];\r\n                this.url_1 = this.$options.methods.getObjectURL(file);\r\n                let param = new FormData(); //创建form对象\r\n                param.append(\"file\", file, file.name); //通过append向form对象添加数据\r\n                // console.log(param.get(\"file\")); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\r\n                //todo aaaa\r\n                var timer = setInterval(() => {\r\n                    this.myFunc();\r\n                }, 30);\r\n                let config = {\r\n                    headers: {\"Content-Type\": \"multipart/form-data\"}\r\n                }; //添加请求头\r\n                axios\r\n                    .post(this.server_url+\"/upload\", param, config)\r\n                    .then(response => {\r\n                        this.percentage = 100;\r\n                        clearInterval(timer);\r\n                        this.url_1 = response.data.image_url;\r\n                        this.srcList.push(this.url_1);\r\n                        this.url_2 = response.data.draw_url;\r\n                        this.srcList1.push(this.url_2);\r\n                        this.fullscreenLoading = false;\r\n                        this.loading = false;\r\n\r\n                        this.feat_list = Object.keys(response.data.image_info);\r\n\r\n                        for (var i = 0; i < this.feat_list.length; i++) {\r\n                            response.data.image_info[this.feat_list[i]][2] = this.feat_list[i];\r\n                            this.feature_list.push(response.data.image_info[this.feat_list[i]]);\r\n                        }\r\n\r\n                        this.feature_list.push(response.data.image_info);\r\n                        this.feature_list_1 = this.feature_list[0];\r\n                        JSON.stringify(response.data.image_info, (key, value) => {\r\n                            console.log(key);\r\n                            console.log(value);\r\n                        });\r\n                        this.dialogTableVisible = false;\r\n                        this.percentage = 0;\r\n                        this.notice1();\r\n                        var areaCompare = document.getElementById(\"areaCompare\");\r\n                        areaCompare.style.display = \"none\";\r\n                        var areaCompare = document.getElementById(\"perimeterCompare\");\r\n                        areaCompare.style.display = \"none\";\r\n                        let myChart_area = this.$echarts.init(\r\n                            document.getElementById(\"area\")\r\n                        );\r\n                        let myChart_perimeter = this.$echarts.init(\r\n                            document.getElementById(\"perimeter\")\r\n                        );\r\n                        this.perimeter_picture_data = parseInt(response.data.image_info[\"perimeter\"][1]);\r\n                        this.area_picture_data = parseInt(response.data.image_info[\"area\"][1]);\r\n                        myChart_area.setOption({\r\n                            xAxis: {\r\n                                type: \"category\",\r\n                                data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\r\n                            },\r\n                            yAxis: {\r\n                                type: \"value\",\r\n                                name: \"面积\"\r\n                            },\r\n                            areaStyle: {},\r\n                            legend: {\r\n                                data: [\"\"]\r\n                            },\r\n                            series: [\r\n                                {\r\n                                    // 根据名字对应到相应的系列\r\n                                    name: \"面积\",\r\n                                    type: \"line\",\r\n                                    data: [\r\n                                        1300,\r\n                                        1290,\r\n                                        1272,\r\n                                        1123.5,\r\n                                        1123,\r\n                                        1092,\r\n                                        1086,\r\n                                        response.data.image_info[\"area\"][1]\r\n                                    ]\r\n                                }\r\n                            ]\r\n                        });\r\n\r\n                        myChart_perimeter.setOption({\r\n                            xAxis: {\r\n                                type: \"category\",\r\n                                data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"]\r\n                            },\r\n                            yAxis: {\r\n                                type: \"value\",\r\n                                name: \"周长\"\r\n                            },\r\n                            areaStyle: {},\r\n                            series: [\r\n                                {\r\n                                    // 根据名字对应到相应的系列\r\n                                    name: \"周长\",\r\n                                    type: \"line\",\r\n                                    data: [\r\n                                        250,\r\n                                        243,\r\n                                        227,\r\n                                        201,\r\n                                        197,\r\n                                        170,\r\n                                        159,\r\n                                        response.data.image_info[\"perimeter\"]\r\n                                    ]\r\n                                }\r\n                            ]\r\n                        });\r\n                    });\r\n            },\r\n            // 下载 点击按钮 从远程接口获取文件\r\n            downTemplate() {\r\n                axios({\r\n                    method: \"get\",\r\n                    url:\r\n                        \"https://cso1-1254043908.cos.ap-beijing.myqcloud.com/ct/testfile.7z\",\r\n                    responseType: \"blob\"\r\n                }).then(res => {\r\n                    this.downloads(res.data, res.headers.filename);\r\n\r\n                    if (res.status === 200) {\r\n                        this.$message({\r\n                            message: \"下载成功\",\r\n                            type: \"success\"\r\n                        });\r\n                        if (this.active == 0) {\r\n                            this.next();\r\n                        }\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: \"下载失败，请重试\",\r\n                            type: \"error\"\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            myFunc() {\r\n                if (this.percentage + 33 < 99) {\r\n                    this.percentage = this.percentage + 33;\r\n                    console.log(this.percentage);\r\n                } else {\r\n                    this.percentage = 99;\r\n                }\r\n            },\r\n            drawChart() {\r\n                // 基于准备好的dom，初始化echarts实例\r\n                let myChart_area = this.$echarts.init(document.getElementById(\"area\"));\r\n                let myChart_perimeter = this.$echarts.init(\r\n                    document.getElementById(\"perimeter\")\r\n                );\r\n                // 指定图表的配置项和数据\r\n                myChart_area.setOption({\r\n                    title: {\r\n                        text: \"肿瘤面积变化\",\r\n                        subtext: \"Tumor Area Change\",\r\n                        left: \"center\"\r\n                    },\r\n                    legend: {\r\n                        data: [\"\"]\r\n                    },\r\n                    tooltip: {},\r\n\r\n                    grid: {\r\n                        //显示数据的图表位于当前canvas的坐标轴\r\n                        x: 50,\r\n                        y: 55,\r\n                        x2: 50,\r\n                        y2: 60,\r\n                        borderWidth: 1\r\n                    },\r\n\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            dataZoom: {\r\n                                yAxisIndex: \"none\"\r\n                            },\r\n                            dataView: {readOnly: false},\r\n                            magicType: {type: [\"line\", \"bar\"]},\r\n                            restore: {},\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    xAxis: {\r\n                        type: \"category\",\r\n                        boundaryGap: false,\r\n                        data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"],\r\n                        name: \"治疗时间（周）\",\r\n                        nameLocation: \"middle\",\r\n                        nameTextStyle: {\r\n                            padding: 14,\r\n                            fontSize: 14\r\n                        }\r\n                    },\r\n                    yAxis: {\r\n                        type: \"value\",\r\n                        name: \"肿瘤面积\",\r\n                        nameTextStyle: {\r\n                            padding: 4,\r\n                            fontSize: 14\r\n                        },\r\n                        max: 1800\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name: \"面积\",\r\n                            type: \"bar\",\r\n                            data: []\r\n                        }\r\n                    ]\r\n                });\r\n                myChart_perimeter.setOption({\r\n                    title: {\r\n                        text: \"肿瘤周长变化\",\r\n                        subtext: \"Tumor Circumference Change\",\r\n                        left: \"center\"\r\n                    },\r\n                    legend: {\r\n                        data: [\"\"]\r\n                    },\r\n                    tooltip: {},\r\n\r\n                    grid: {\r\n                        //显示数据的图表位于当前canvas的坐标轴\r\n                        x: 50,\r\n                        y: 55,\r\n                        x2: 50,\r\n                        y2: 60,\r\n                        borderWidth: 1\r\n                    },\r\n\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            dataZoom: {\r\n                                yAxisIndex: \"none\"\r\n                            },\r\n                            dataView: {readOnly: false},\r\n                            magicType: {type: [\"line\", \"bar\"]},\r\n                            restore: {},\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    xAxis: {\r\n                        type: \"category\",\r\n                        boundaryGap: false,\r\n                        data: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"],\r\n                        name: \"治疗时间（周）\",\r\n                        nameLocation: \"middle\",\r\n                        nameTextStyle: {\r\n                            padding: 14,\r\n                            fontSize: 14\r\n                        }\r\n                    },\r\n                    yAxis: {\r\n                        type: \"value\",\r\n                        name: \"肿瘤周长\",\r\n                        nameTextStyle: {\r\n                            padding: 4,\r\n                            fontSize: 14\r\n                        },\r\n                        max: 400\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name: \"周长\",\r\n                            type: \"bar\",\r\n                            data: []\r\n                        }\r\n                    ]\r\n                });\r\n            },\r\n            // 创建模板下载链接\r\n            downloads(data, name) {\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                let url = window.URL.createObjectURL(new Blob([data]));\r\n                let link = document.createElement(\"a\");\r\n                link.style.display = \"none\";\r\n                link.href = url;\r\n                link.setAttribute(\"download\", `肿瘤CT图文件.zip`);\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n                window.URL.revokeObjectURL(url);\r\n            },\r\n            welcome() {\r\n                axios({\r\n                    method: \"get\",\r\n                    url:\r\n                        \"https://cso1-1254043908.cos.ap-beijing.myqcloud.com/ct/testfile.7z\",\r\n                    responseType: \"blob\"\r\n                }).then(res => {\r\n                    this.downloads(res.data, res.headers.filename);\r\n                    if (res.status === 200) {\r\n                        this.$message({\r\n                            message: \"下载成功\",\r\n                            type: \"success\"\r\n                        });\r\n                        this.centerDialogVisible = false;\r\n                        this.next();\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: \"下载失败，请重试\",\r\n                            type: \"error\"\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            notice1() {\r\n                this.$notify({\r\n                    title: \"预测成功\",\r\n                    message:\r\n                        \"点击图片可以查看大图，图片下方会显示肿瘤区域的一些特征值来供医生参考，辅助诊断\",\r\n                    duration: 0,\r\n                    type: \"success\"\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawChart();\r\n        }\r\n    };\r\n</script>\r\n\r\n<style>\r\n    .el-button {\r\n        padding: 12px 20px !important;\r\n    }\r\n\r\n    #hello p {\r\n        font-size: 15px !important;\r\n        /*line-height: 25px;*/\r\n    }\r\n\r\n    .n1 .el-step__description {\r\n        padding-right: 20%;\r\n        font-size: 14px;\r\n        line-height: 20px;\r\n        /* font-weight: 400; */\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n    * {\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    .dialog_info {\r\n        margin: 20px auto;\r\n    }\r\n\r\n    .text {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .item {\r\n        margin-bottom: 18px;\r\n    }\r\n\r\n    .clearfix:before,\r\n    .clearfix:after {\r\n        display: table;\r\n        content: \"\";\r\n    }\r\n\r\n    .clearfix:after {\r\n        clear: both;\r\n    }\r\n\r\n    .box-card {\r\n        width: 680px;\r\n        height: 200px;\r\n        border-radius: 8px;\r\n        margin-top: -20px;\r\n    }\r\n\r\n    .divider {\r\n        width: 50%;\r\n    }\r\n\r\n    #CT {\r\n        display: flex;\r\n        height: 100%;\r\n        width: 70%;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n        margin: 0 auto;\r\n        margin-right: 0px;\r\n        max-width: 1200px;\r\n        /* background-color: RGB(239, 249, 251); */\r\n        /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04); */\r\n    }\r\n\r\n    #CT_image_1 {\r\n        width: 90%;\r\n        height: 40%;\r\n        /* background-color: RGB(239, 249, 251); */\r\n        margin: 0px auto;\r\n        padding: 0px auto;\r\n        /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04); */\r\n        margin-right: 180px;\r\n        margin-bottom: 0px;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    #CT_image {\r\n        margin-bottom: 60px;\r\n        margin-left: 30px;\r\n        margin-top: 5px;\r\n    }\r\n\r\n    .image_1 {\r\n        width: 275px;\r\n        height: 260px;\r\n        background: #ffffff;\r\n        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .img_info_1 {\r\n        height: 30px;\r\n        width: 275px;\r\n        text-align: center;\r\n        background-color: #21b3b9;\r\n        line-height: 30px;\r\n    }\r\n\r\n    .demo-image__preview1 {\r\n        width: 250px;\r\n        height: 290px;\r\n        margin: 20px 60px;\r\n        float: left;\r\n    }\r\n\r\n    .demo-image__preview2 {\r\n        width: 250px;\r\n        height: 290px;\r\n\r\n        margin: 20px 460px;\r\n        /* background-color: green; */\r\n    }\r\n\r\n    .error {\r\n        margin: 100px auto;\r\n        width: 50%;\r\n        padding: 10px;\r\n        text-align: center;\r\n    }\r\n\r\n    .block-sidebar {\r\n        position: fixed;\r\n        display: none;\r\n        left: 50%;\r\n        margin-left: 600px;\r\n        top: 350px;\r\n        width: 60px;\r\n        z-index: 99;\r\n    }\r\n\r\n    .block-sidebar .block-sidebar-item {\r\n        font-size: 50px;\r\n        color: lightblue;\r\n        text-align: center;\r\n        line-height: 50px;\r\n        margin-bottom: 20px;\r\n        cursor: pointer;\r\n        display: block;\r\n    }\r\n\r\n    div {\r\n        display: block;\r\n    }\r\n\r\n    .block-sidebar .block-sidebar-item:hover {\r\n        color: #187aab;\r\n    }\r\n\r\n    .download_bt {\r\n        padding: 10px 16px !important;\r\n    }\r\n\r\n    #upfile {\r\n        width: 104px;\r\n        height: 45px;\r\n        background-color: #187aab;\r\n        color: #fff;\r\n        text-align: center;\r\n        line-height: 45px;\r\n        border-radius: 3px;\r\n        box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.2);\r\n        color: #fff;\r\n        font-family: \"Source Sans Pro\", Verdana, sans-serif;\r\n        font-size: 0.875rem;\r\n    }\r\n\r\n    .file {\r\n        width: 200px;\r\n        height: 130px;\r\n        position: absolute;\r\n        left: -20px;\r\n        top: 0;\r\n        z-index: 1;\r\n        -moz-opacity: 0;\r\n        -ms-opacity: 0;\r\n        -webkit-opacity: 0;\r\n        opacity: 0; /*css属性&mdash;&mdash;opcity不透明度，取值0-1*/\r\n        filter: alpha(opacity=0);\r\n        cursor: pointer;\r\n    }\r\n\r\n    #upload {\r\n        position: relative;\r\n        margin: 0px 0px;\r\n    }\r\n\r\n    #download {\r\n        padding: 0px;\r\n        margin: 0px 0px;\r\n    }\r\n\r\n    .patient {\r\n        margin: 50px auto;\r\n        margin-bottom: 100px;\r\n        /* margin-right: 100px; */\r\n        background-color: #187aab;\r\n        border-radius: 5px;\r\n        box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.2);\r\n        color: #fff;\r\n        font-family: \"Source Sans Pro\", Verdana, sans-serif;\r\n        font-size: 0.875rem;\r\n        line-height: 1;\r\n        padding: 0.75rem 1.5rem;\r\n    }\r\n\r\n    #Content {\r\n        width: 85%;\r\n        height: 800px;\r\n        background-color: #ffffff;\r\n        margin: 15px auto;\r\n        display: flex;\r\n        min-width: 1200px;\r\n        /* border: 1px solid #e4e7ed; */\r\n        /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04); */\r\n    }\r\n\r\n    #aside {\r\n        width: 25%;\r\n        background-color: #ffffff;\r\n        padding: 30px;\r\n        margin-right: 80px;\r\n        /* background-color: RGB(239, 249, 251); */\r\n        /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04); */\r\n        height: 800px;\r\n    }\r\n\r\n    .divider {\r\n        background-color: #eaeaea !important;\r\n        height: 2px !important;\r\n        width: 100%;\r\n        margin-bottom: 50px;\r\n    }\r\n\r\n    .divider_1 {\r\n        background-color: #ffffff;\r\n        height: 2px !important;\r\n        width: 100%;\r\n        margin-bottom: 20px;\r\n        margin: 20px auto;\r\n    }\r\n\r\n    .steps {\r\n        font-family: \"lucida grande\", \"lucida sans unicode\", lucida, helvetica,\r\n        \"Hiragino Sans GB\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;\r\n        color: #21b3b9;\r\n        text-align: center;\r\n        margin: 15px auto;\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        text-align: center;\r\n    }\r\n\r\n    .step_1 {\r\n        /*color: #303133 !important;*/\r\n        margin: 20px 26px;\r\n    }\r\n\r\n    #info_patient {\r\n        margin-top: 10px;\r\n        margin-right: 160px;\r\n    }\r\n</style>\r\n\r\n\r\n"]}]}